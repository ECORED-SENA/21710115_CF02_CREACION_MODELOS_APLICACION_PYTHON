(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["tema3"],{"296e":function(e,a,s){e.exports=s.p+"img/7.a5af9528.png"},3927:function(e,a,s){e.exports=s.p+"img/6.256e2e53.png"},"4b02":function(e,a,s){e.exports=s.p+"img/1.b8e93214.png"},"618e":function(e,a,s){e.exports=s.p+"img/2.60f2b9c0.png"},"6dad":function(e,a,s){e.exports=s.p+"img/4.0ab68616.png"},b3ca:function(e,a,s){e.exports=s.p+"img/3.2297f79b.png"},c1aa:function(e,a,s){e.exports=s.p+"img/5.8d8483fc.png"},eb46:function(e,a,s){"use strict";s.r(a);var t=function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("div",{staticClass:"curso-main-container pb-3"},[s("BannerInterno"),s("div",{staticClass:"container tarjeta tarjeta--blanca p-4 p-md-5 mb-5"},[e._m(0),e._m(1),e._m(2),s("div",{staticClass:"row justify-content-center mb-5"},[s("div",{staticClass:"col-lg-10"},[s("div",{staticClass:"p-5",staticStyle:{"background-color":"#dbefed"}},[e._m(3),e._m(4),e._m(5),e._m(6),e._m(7),e._m(8),e._m(9),e._m(10),e._m(11),e._m(12),e._m(13),e._m(14),e._m(15),e._m(16),e._m(17),e._m(18),e._m(19),s("P",[e._v("Ahora se deben convertir las etiquetas de salida: para que la máquina entienda los datos se procede con las transformaciones de las etiquetas normal y malicioso, la estrategia sería asignarle un número a cada una de estas de la siguiente manera:")]),e._m(20),e._m(21),e._m(22),s("p",{staticClass:"mb-5"},[e._v("Como se aprecia en la columna salida ya se visualiza la información correspondiente a 0 para la etiqueta Normal y 1 para la etiqueta Malicioso.")]),e._m(23),e._m(24),e._m(25)],1)])])])],1)},r=[function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("div",{staticClass:"titulo-principal color-acento-contenido"},[s("div",{staticClass:"titulo-principal__numero"},[s("span",[e._v("3")])]),s("h1",[e._v("Preprocesamiento de los datos con Python")])])},function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"row justify-content-center mb-5"},[t("div",{staticClass:"col-lg-4 col-8 mb-lg-0 mb-3",attrs:{"data-aos":"fade-right"}},[t("img",{attrs:{src:s("4b02"),alt:""}})]),t("div",{staticClass:"col-lg-8",attrs:{"data-aos":"fade-left"}},[t("p",[e._v("Con el análisis exploratorio de los datos, se va haciendo una idea de cuáles serán las variables objetivas y de cuáles serán los atributos para el aprendizaje; de igual manera, se podrá determinar las correcciones necesarias que se deben realizar a los datos."),t("br"),t("br"),e._v("Se debe recordar que el objetivo es realizar un modelo que permita la detección de mensajes de correo electrónico y los clasifique como mensajes normales o maliciosos. Con esta premisa y el análisis que se ha realizado previamente se procede con los pasos para el preprocesamiento de los datos, tal y como se exponen a continuación.")])])])},function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("div",{staticClass:"titulo-circulo mb-4",attrs:{"data-aos":"fade-right"}},[s("h3",[e._v("Preprocesamiento de los datos")])])},function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("div",{staticClass:"titulo-pasos mb-3"},[s("h4",{staticClass:"mb-0"},[e._v("Paso 1")])])},function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("p",{staticClass:"mb-5",attrs:{"data-aos":"fade-right"}},[e._v("Definir los atributos que harán parte del análisis: para este caso, aunque se tienen cuatro columnas, el análisis se va a centrar en la columna mensaje como análisis para el entrenamiento, y como variable objetivo o resultante será la columna salida."),s("br"),s("br"),e._v("Lo que quiere decir que solamente se debe dejar en la colección de datos esas dos columnas, para realizar este proceso se debe ejecutar el siguiente comando."),s("br"),s("br"),s("code",{staticClass:"codigo"},[e._v(" df=df.drop(['Unnamed: 0', 'fecha', 'ciudad'], axis=1) ")]),s("br"),s("br"),e._v("Este comando permite eliminar del "),s("em",[e._v("dataframe")]),e._v(" las columnas que no se quieren analizar, solamente dejando nuestra variable objetivo y las de análisis. Si se ejecuta el comando "),s("code",{staticClass:"codigo"},[e._v("df.head()")]),e._v(", se debe obtener el resultado de las primeras 5 filas, pero ya solamente de las dos columnas seleccionadas:")])},function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"row justify-content-center mb-5"},[t("div",{staticClass:"col-lg-6"},[t("img",{attrs:{src:s("618e"),alt:"Captura de pantalla al eliminar columnas."}})])])},function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("div",{staticClass:"titulo-pasos mb-3"},[s("h4",{staticClass:"mb-0"},[e._v("Paso 2")])])},function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("p",[e._v("Eliminar valores nulos: en la exploración de los datos se encontró que en la columna mensaje existen registros nulos, de manera que para este caso se procede con la eliminación de estos registros, aunque esta no es la única decisión."),s("br"),s("br"),e._v("En este caso son pocos registros y tomaremos la decisión de quitarlos de nuestra colección de datos."),s("br"),s("br"),e._v("Para proceder ejecute las siguientes líneas de comando."),s("br"),s("br"),s("code",{staticClass:"codigo"},[e._v("df=df.dropna()")]),s("br"),s("br"),e._v("Con este comando se eliminarán todas las filas si en cualquiera de sus atributos o columnas encuentra un valor nulo. Recordemos que el total de registros era de 5572, una vez ejecutado el comando el resultado obtenido es el siguiente, con el comando "),s("em",[e._v("shape")]),e._v(" rápidamente se puede ver el total de registros y el total de columnas.")])},function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"row justify-content-center mb-5"},[t("div",{staticClass:"col-lg-6"},[t("img",{attrs:{src:s("b3ca"),alt:"Captura de pantalla al eliminar columnas."}})])])},function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("div",{staticClass:"titulo-pasos mb-3"},[s("h4",{staticClass:"mb-0"},[e._v("Paso 3")])])},function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("p",{staticClass:"mb-5"},[e._v("Para el ejemplo, la variable objetivo es un texto de tipo categórico y es necesario que se realice su transformación para que puedan ser procesados por los algoritmos de clasificación que implementaremos."),s("br"),s("br"),e._v("La variable que se utilizará para realizar el aprendizaje corresponde a los mensajes y para realizar la adecuación de estos es la librería "),s("b",[e._v("nltk")]),s("br"),s("br"),s("code",{staticClass:"codigo"},[e._v("import nltk"),s("br"),e._v('nltk.download("punkt")'),s("br"),e._v("import warnings warnings.filterwarnings('ignore')"),s("br"),e._v("from wordcloud import WordCloud")]),s("br"),s("br"),e._v("Como primer análisis de los mensajes se creará una nube de palabras que permitan identificar cuáles de ellas hacen parte de los mensajes normales y cuáles de los mensajes maliciosos."),s("br"),s("br"),e._v("Primero se deben ver dos variables vacías de la siguiente manera."),s("br"),s("br"),s("code",{staticClass:"codigo"},[e._v("palabrasNormales = '' "),s("br"),e._v(" palabraMaliciosos = ''")])])},function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("div",{staticClass:"titulo-pasos mb-3"},[s("h4",{staticClass:"mb-0"},[e._v("Paso 4")])])},function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("p",{staticClass:"mb-5"},[e._v("Posteriormente se debe recorrer el "),s("em",[e._v("dataframe")]),e._v(" en busca de los mensajes que coincidan con las etiquetas Malicioso, de la siguiente manera."),s("br"),s("br"),s("code",{staticClass:"codigo"},[e._v(" for mensaje in df[df['salida'] == 'Malicioso'].mensaje: ")]),s("br"),s("code",{staticClass:"codigo ps-4"},[e._v("texto = mensaje.lower()")]),s("br"),s("code",{staticClass:"codigo ps-4"},[e._v("tokens = nltk.word_tokenize(texto)")]),s("br"),s("code",{staticClass:"codigo ps-4"},[e._v("for palabras in tokens:")]),s("br"),s("code",{staticClass:"codigo ps-4"},[e._v("palabrasMalicioso = palabrasMalicioso + palabras + ' '")]),s("br"),s("br"),s("code",{staticClass:"codigo"},[e._v("for mensaje in df[df['salida'] == 'Malicioso'].mensaje")]),e._v(" recorre cada elemento en los cuales la etiqueta de la columna salida coincide con Malicioso."),s("br"),s("br"),s("code",{staticClass:"codigo"},[e._v("texto = mensaje.lower()")]),e._v(" convierte cada una de las coincidencias en minúscula."),s("br"),s("br"),s("code",{staticClass:"codigo"},[e._v("tokens = nltk.word_tokenize(texto)")]),e._v(" separa el mensaje en una lista de todas las palabras que la conforman."),s("br"),s("br"),s("code",{staticClass:"codigo"},[e._v("for palabras in tokens")]),e._v(" recorre cada una de las palabras para ser almacenadas en una sola cadena de texto.")])},function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("div",{staticClass:"titulo-pasos mb-3"},[s("h4",{staticClass:"mb-0"},[e._v("Paso 5")])])},function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("p",{staticClass:"mb-5"},[e._v("El objetivo de implementar dicho código es tomar todos los mensajes que coincidan con la etiqueta de salida malicioso, convertirlas a minúsculas para estandarizar todos los textos, luego separar cada palabra en una sola cadena de texto, que servirá para analizar cuál de las palabras tienen mayor representación."),s("br"),s("br"),e._v("Una vez con todas las palabras en una sola cadena de texto se procede a generar la nube de palabras."),s("br"),s("br"),s("code",{staticClass:"codigo"},[e._v("cloudMalicioso = WordCloud(width=500, height=300,"),s("br"),e._v("background_color='white').generate(palabrasMalicioso)")]),s("br"),s("br"),e._v("La variable la denominamos cloudMalicioso y con la librería WordCloud, generamos la nube de palabras con la variable que previamente ya hemos usado para tal fin denominada: palabrasMalicioso"),s("br"),s("br"),e._v("Se procede con la gráfica implementando los siguientes códigos."),s("br"),s("br"),s("code",{staticClass:"codigo "},[e._v("plt.figure( figsize=(10,8))"),s("br"),e._v("plt.imshow(cloudMalicioso)"),s("br"),e._v('plt.axis("off")'),s("br"),e._v("plt.tight_layout(pad=0)"),s("br"),e._v("plt.show()")]),s("br"),s("br"),e._v("El resultado de ejecutar las siguientes líneas de código será la representación de nube de palabras como se aprecia en la imagen.")])},function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"row justify-content-center mb-5"},[t("div",{staticClass:"col-lg-6"},[t("img",{attrs:{src:s("6dad"),alt:"Captura de pantalla de una representación visual de nubes de palabras, como resultado del código ejecutado."}})])])},function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("div",{staticClass:"titulo-pasos mb-3"},[s("h4",{staticClass:"mb-0"},[e._v("Paso 6")])])},function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("p",[e._v("Se realiza el mismo procedimiento, pero esta vez detectando los mensajes de los correos que están marcados como Normal, el código quedaría de la siguiente manera."),s("br"),s("br"),s("code",{staticClass:"codigo"},[e._v(" for mensaje in df[df['salida'] == 'Normal'].mensaje:"),s("br"),s("span",{staticClass:"ps-2"},[e._v("texto = mensaje.lower()")]),s("br"),s("span",{staticClass:"ps-2"},[e._v("tokens = nltk.word_tokenize(texto)")]),s("br"),s("span",{staticClass:"ps-2"},[e._v("for palabras in tokens:")]),s("br"),s("span",{staticClass:"ps-4"},[e._v("palabrasNormal = palabrasNormal + palabras + ' '")]),s("br"),s("br"),e._v("cloudNormal = WordCloud(width=500, height=300,"),s("br"),e._v("background_color='white').generate(palabrasNormal)"),s("br"),s("br"),e._v("plt.figure( figsize=(10,8))"),s("br"),e._v("plt.imshow(cloudNormal)"),s("br"),e._v('plt.axis("off")'),s("br"),e._v("plt.tight_layout(pad=0)"),s("br"),e._v("plt.show()")]),e._v(" "),s("br"),s("br"),e._v("Y la nube de palabras que se obtiene para este caso es la siguiente:")])},function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"row justify-content-center mb-5"},[t("div",{staticClass:"col-lg-6"},[t("img",{staticClass:"mb-4",attrs:{src:s("c1aa"),alt:"Captura de pantalla de una representación visual de nubes de palabras, como resultado del código ejecutado en este paso."}}),t("p",[e._v("Se puede observar comparando las dos nubes de palabras que la que más se repite es la palabra "),t("em",[e._v("free")]),e._v(" (gratis), en los mensajes de correos marcados como maliciosos.")])])])},function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("div",{staticClass:"titulo-pasos mb-3"},[s("h4",{staticClass:"mb-0"},[e._v("Paso 7")])])},function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("div",{staticClass:"row justify-content-center mb-5"},[s("div",{staticClass:"col-lg-6"},[s("table",{staticClass:"text-center"},[s("tr",{staticClass:"fw-bold bg-white"},[s("td",{staticStyle:{border:"1px solid #8054f8"}},[e._v("Etiqueta")]),s("td",{staticStyle:{border:"1px solid #8054f8"}},[e._v("Valor")])]),s("tr",{staticClass:"bg-white"},[s("td",{staticStyle:{border:"1px solid #8054f8"}},[e._v("Normal")]),s("td",{staticStyle:{border:"1px solid #8054f8"}},[e._v("0")])]),s("tr",{staticClass:"bg-white"},[s("td",{staticStyle:{border:"1px solid #8054f8"}},[e._v("Malicioso")]),s("td",{staticStyle:{border:"1px solid #8054f8"}},[e._v("1")])])])])])},function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("p",[e._v("Para realizar la transformación de estos datos ejecute la siguiente línea de comandos."),s("br"),s("br"),s("code",{staticClass:"codigo"},[e._v("df = df.replace(['Normal','Malicioso'],[0, 1])"),s("br"),e._v("df.head(10)")]),s("br"),s("br"),e._v("El resultado se puede observar en la imagen")])},function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"row justify-content-center mb-5"},[t("div",{staticClass:"col-lg-6"},[t("img",{attrs:{src:s("3927"),alt:"Captura de pantalla en el que se evidencia la información de acuerdo a la etiqueta"}})])])},function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("div",{staticClass:"titulo-pasos mb-3"},[s("h4",{staticClass:"mb-0"},[e._v("Paso 8")])])},function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("p",{staticClass:"mb-4"},[e._v("Ahora se debe eliminar la información que no aporta nada para el modelo, de tal manera que se procede con la eliminación de los signos de puntuación, y de las palabras vacías, para ello se hace uso de la librería NTKL."),s("br"),s("br"),s("code",{staticClass:"codigo"},[e._v("import nltk"),s("br"),e._v("from nltk.corpus import stopwords"),s("br"),e._v("import string"),s("br"),s("br"),e._v("def eliminarPuntuacion(texto):"),s("br"),s("br"),e._v("texto = texto.translate(str.maketrans('', '', string.punctuation))"),s("br"),e._v("texto = [word for word in texto.split() if word.lower() not in"),s("br"),e._v("stopwords.words('english')]"),s("br"),s("br"),e._v('return " ".join(texto)'),s("br"),s("br"),e._v("df['mensaje'] = df['mensaje'].apply(eliminarPuntuacion)"),s("br"),e._v("df")]),s("br"),s("br"),e._v("El resultado se puede ver comparando los resultados antes y después de la depuración:")])},function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"row justify-content-center mb-5"},[t("div",{staticClass:"col-lg-6"},[t("img",{attrs:{src:s("296e"),alt:"Captura de pantalla al hacer uso de la librería NTKL"}})])])}],o={name:"Tema3",data:function(){return{}},mounted:function(){var e=this;this.$nextTick((function(){e.$aosRefresh()}))},updated:function(){this.$aosRefresh()}},i=o,l=s("2877"),n=Object(l["a"])(i,t,r,!1,null,null,null);a["default"]=n.exports}}]);
//# sourceMappingURL=tema3.8ae41e67.js.map